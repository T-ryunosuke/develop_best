<div class="container mx-auto mt-10">
  <div class="flex justify-center w-full">
    <div class="rounded-xl bg-base-100 w-3/4 lg:w-3/5 shadow-xl outline outline-gray-100">
      <div class="card-body flex flex-col items-center mt-2">
        <div class="flex-grow w-full px-4">
          <div class="text-end text-xs sm:text-sm text-gray-400">
            <%= @post.created_at.strftime("%Y/%m/%d") %>
          </div>
          <div class="form-control mb-2 text-3xl md:text-5xl">
            <%= @post.title %>
          </div>

          <div class="form-control mb-10">
            <%= link_to @post.category.name, posts_path(category_name: @post.category.name),class: "badge badge-primary badge-outline badge-sm text-xs" %>
            <div class="divider"></div>
          </div>

          <div class="form-control mb-4 textarea textarea-bordered">
            <%= @post.content %>
          </div>
        </div>
      </div>
      <div class="card-actions justify-end mb-4 mr-6">
        <% if current_user&.mine?(@post) %>
        <div class="flex items-center space-x-4">
          <%= link_to edit_post_path(@post) do %>
            <i class="ri-edit-box-line text-2xl text-blue-600"></i>
          <% end %>
          <i class="ri-delete-bin-5-line text-2xl text-red-400 cursor-pointer" onclick="my_modal.showModal()"></i>
          <dialog id="my_modal" class="modal">
            <div class="modal-box">
              <p class="text-center text-lg font-medium">削除しますか？</p>
              <div class="modal-action flex justify-between mx-20">
                <form method="dialog">
                  <button class="btn btn-outline outline-none font-thin text-xs md:text-base">キャンセル</button>
                </form>
                <%= link_to "削除", post_path(@post), class: "btn btn-outline font-thin text-xs text-red-400 md:text-base", data: { turbo_method: :delete } %>
              </div>
            </div>
          </dialog>
        </div>
        <% else %>
        <!-- "いいね"アイコンをカードの左端に表示 -->
        <div class="flex items-center space-x-2">
          <%= render 'likes/like', post: @post, liker: @post.liked_by?(current_user) %>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
